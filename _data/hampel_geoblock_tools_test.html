<?xml version="1.0" encoding="utf-8"?>
<templates>
  <template type="admin" title="geoblock_tools_test_geoblock" version_id="1000010" version_string="1.0.0 Alpha"><![CDATA[<xf:title>{{ phrase('geoblock_test_geoblock') }}</xf:title>

<xf:if is="$messages">
	<xf:foreach loop="$messages" value="$message">
		<div class="blockMessage blockMessage--{$message.type}">{{ $test }} - {{ $message.message }}</div>
	</xf:foreach>
</xf:if>

<xf:form action="{{ link('tools/hampel-geoblock-test') }}" class="block">
	<div class="block-container">
		<h2 class="block-header">{{ phrase('geoblock_lookup') }}</h2>
		<div class="block-body">
			<xf:textboxrow label="{{ phrase('geoblock_ip') }}" 
				name="options[ip]" 
				value="{$options.ip}" 
				explain="{{ phrase('geoblock_test_ip_explain') }}"		   
				hint="{{ phrase('geoblock_test_ip_hint') }}" />
			
			<xf:checkboxrow label="{{ phrase('geoblock_options') }}">
					<xf:option name="options[bypass]" selected="{$options.bypass}"
						label="{{ phrase('geoblock_bypass_cache') }}"
						hint="{{ phrase('geoblock_bypass_cache_hint') }}" />
			</xf:checkboxrow>
			
		</div>		
		<xf:submitrow submit="{{ phrase('geoblock_test') }}" />
	</div>
	<xf:hiddenval name="test">Hampel\Geoblock:GeoblockTest</xf:hiddenval>
</xf:form>

<xf:form action="{{ link('tools/hampel-geoblock-test') }}" class="block">
	<div class="block-container">
		<h2 class="block-header">{{ phrase('geoblock_isocode_decider') }}</h2>
		<div class="block-body">
			<xf:textboxrow label="{{ phrase('geoblock_iso_code') }}" 
				name="options[isocode]" 
				value="{$options.isocode}" 
				maxlength="2"
				explain="{{ phrase('geoblock_test_isocode_explain') }}"
				hint="{{ phrase('geoblock_test_isocode_hint') }}" />
			
			<xf:checkboxrow label="{{ phrase('geoblock_simulate_eu') }}">
					<xf:option name="options[eu]" selected="{$options.eu}"
						label="{{ phrase('geoblock_in_eu') }}"
						hint="{{ phrase('geoblock_in_eu_hint') }}" />
			</xf:checkboxrow>
			
			
		</div>		
		<xf:submitrow submit="{{ phrase('geoblock_test_isocode') }}" />
	</div>
	<xf:hiddenval name="test">Hampel\Geoblock:IsoDeciderTest</xf:hiddenval>
</xf:form>]]></template>
  <template type="admin" title="geoblock_tools_update_maxmind" version_id="1000070" version_string="1.0.0"><![CDATA[<xf:title>{{ phrase('geoblock_update_maxmind_database') }}</xf:title>

<xf:if is="$messages">
	<xf:foreach loop="$messages" value="$message">
		<div class="blockMessage blockMessage--error">{{ $message }}</div>
	</xf:foreach>
</xf:if>

<xf:form action="{{ link('tools/update-maxmind') }}" class="block">
	<div class="block-container">
		<h2 class="block-header">{{ phrase('geoblock_maxmind_database') }}</h2>
		<div class="block-body">
			<xf:textboxrow name="maxmindDatabase" label="{{ phrase('geoblock_maxmind_database_path') }}" value="{$xf.options.geoblockDatabasePath}" readonly="true" />
			
		</div>
		<div class="block-body">
			<xf:textboxrow name="maxmindDescription" label="{{ phrase('geoblock_maxmind_database_description') }}" value="{{ $description }}" readonly="true" />			
		</div>			
		<div class="block-body">
			<xf:textboxrow name="maxmindTimestamp" label="{{ phrase('geoblock_maxmind_database_timestamp') }}" value="{{ $build ? date_time($build) : "" }}" readonly="true" />			
		</div>		
		<xf:submitrow submit="{{ phrase('geoblock_update_maxmind') }}" />
	</div>
</xf:form>]]></template>
</templates>
